<mxfile modified="2019-12-22T06:12:35.447Z" host="www.draw.io" agent="Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.75 Safari/537.36" etag="Y9khYEeWgQQhdIHzPQbu" version="12.4.3" type="github" pages="5">
  <diagram id="-X4iHLIYIGsj5PxfE0q1" name="CSVLineSplitProcessor">
    <mxGraphModel dx="942" dy="573" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="F0e3yNXXzythtXrKu55G-0"/>
        <mxCell id="F0e3yNXXzythtXrKu55G-1" parent="F0e3yNXXzythtXrKu55G-0"/>
        <mxCell id="F0e3yNXXzythtXrKu55G-7" value="Csv行切割处理器&lt;br&gt;（CsvLineSplitProcessor）" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;labelBackgroundColor=#0066CC;gradientColor=none;fillColor=#0066CC;fontColor=#FFFFFF;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="40" y="70" width="760" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" source="F0e3yNXXzythtXrKu55G-9" target="F0e3yNXXzythtXrKu55G-10" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-9" value="文件处理开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="323" y="190" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-18" value="通过" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" parent="F0e3yNXXzythtXrKu55G-1" source="F0e3yNXXzythtXrKu55G-10" target="F0e3yNXXzythtXrKu55G-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="373" y="440" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="373" y="390"/>
              <mxPoint x="373" y="390"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-10" value="配置检查" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#000000;strokeColor=#808080;labelBorderColor=none;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="325.5" y="310" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-12" value="本地文件输入插件" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="518" y="250" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-16" value="" style="endArrow=none;dashed=1;html=1;fontSize=12;fontColor=#808080;entryX=-0.04;entryY=0.483;entryDx=0;entryDy=0;entryPerimeter=0;" parent="F0e3yNXXzythtXrKu55G-1" target="F0e3yNXXzythtXrKu55G-12" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="378" y="279" as="sourcePoint"/>
            <mxPoint x="468" y="282" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" parent="F0e3yNXXzythtXrKu55G-1" source="F0e3yNXXzythtXrKu55G-21" target="F0e3yNXXzythtXrKu55G-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="373" y="500" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-8" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;" parent="F0e3yNXXzythtXrKu55G-1" source="F0e3yNXXzythtXrKu55G-19" target="ptmIxdiR0DEbidMtJolb-7" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-19" value="读取文件流" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="318" y="580" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;" parent="F0e3yNXXzythtXrKu55G-1" source="ptmIxdiR0DEbidMtJolb-7" target="ptmIxdiR0DEbidMtJolb-9" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-7" value="处理CSV数据文件" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="318" y="720" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;" parent="F0e3yNXXzythtXrKu55G-1" source="ptmIxdiR0DEbidMtJolb-9" target="F0e3yNXXzythtXrKu55G-23" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-9" value="记录文件处理信息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="318" y="860" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" source="F0e3yNXXzythtXrKu55G-23" target="F0e3yNXXzythtXrKu55G-38" edge="1">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-23" value="文件处理策略" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="318" y="980" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-21" value="输入消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="333" y="440" width="80" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="F0e3yNXXzythtXrKu55G-38" value="文件处理结束" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;fontColor=#808080;align=center;strokeColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="315.5" y="1080" width="115" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;arcSize=20;" parent="F0e3yNXXzythtXrKu55G-1" source="ptmIxdiR0DEbidMtJolb-3" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="368" y="550" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-3" value="文件消息队列获取待处理文件" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;strokeWidth=2;gradientColor=none;labelBorderColor=none;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="88" y="510" width="120" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-13" value="1.支持配置多个分隔符，动态识别分隔符&lt;br&gt;2.&amp;nbsp;支持定义分割字符、逃逸字符和引用字符&lt;br&gt;3.多个内置扩展字段&lt;br&gt;&lt;div&gt;&amp;nbsp;* _line : 换行符分隔字符串&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _rownum : 文件处理行号&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _file : 文件（java.io.File格式）&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _filename : 文件名（java.lang.String格式，java.io.File.getName()返回值）&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _headers : 文件首行标题字段，数组结构String[]&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _columns : 文件数据行拆分后数据字段，数据结构String[]&lt;/div&gt;&lt;div&gt;&amp;nbsp;* _fileparent ： 文件父目录（java.lang.String格式，java.io.File.getParent()返回值）&lt;/div&gt;" style="shape=callout;whiteSpace=wrap;html=1;perimeter=calloutPerimeter;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;position2=0;strokeWidth=2;gradientColor=none;align=left;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="438" y="490" width="340" height="240" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" source="ptmIxdiR0DEbidMtJolb-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="368" y="820" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-17" value="文件处理信息：&lt;br&gt;1.文件行数&lt;br&gt;2.文件大小&lt;br&gt;3.文件错误行数&lt;br&gt;4.文件处理开始时间&lt;br&gt;5.文件处理结束时间&lt;br&gt;6.文件处理耗时&lt;br&gt;7.文件处理效率" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;fontColor=#808080;align=left;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="48" y="730" width="140" height="180" as="geometry"/>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" parent="F0e3yNXXzythtXrKu55G-1" source="ptmIxdiR0DEbidMtJolb-20" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="378" y="1060" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="633" y="1060"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ptmIxdiR0DEbidMtJolb-20" value="文件处理策略：&lt;br&gt;1.MOVE（移动文件）&lt;br&gt;-&amp;nbsp;处理过程中移动文件至工作目录&lt;br&gt;2.RENAME（重命名文件）&lt;br&gt;-处理过程文件名添加.processing后缀&lt;br&gt;-处理结束文件名添加.complete后缀&lt;br&gt;3.DELETE（文件删除策略）&lt;br&gt;-处理结束删除文件" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;fontColor=#808080;align=left;" parent="F0e3yNXXzythtXrKu55G-1" vertex="1">
          <mxGeometry x="528" y="860" width="210" height="180" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="CacheBuildAnalyser" id="EPLHQUuei7vCuElKDvf8">
    <mxGraphModel dx="942" dy="573" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-0"/>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-1" parent="H7ooW2e-7gJWST4jmUaG-0"/>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-2" value="缓存构建解析器&lt;br&gt;（CacheBuildAnalyser）" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;labelBackgroundColor=#0066CC;gradientColor=none;fillColor=#0066CC;fontColor=#FFFFFF;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="50" y="20" width="760" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-4" target="H7ooW2e-7gJWST4jmUaG-6">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-4" value="缓存构建开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="333" y="140" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-5" value="通过" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-6" target="H7ooW2e-7gJWST4jmUaG-18">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="383" y="390" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="383" y="340"/>
              <mxPoint x="383" y="340"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-6" value="配置检查" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="335.5" y="260" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-7" value="任意输入" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="528" y="200" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-8" value="" style="endArrow=none;dashed=1;html=1;fontSize=12;fontColor=#808080;entryX=-0.04;entryY=0.483;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" target="H7ooW2e-7gJWST4jmUaG-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="388" y="229" as="sourcePoint"/>
            <mxPoint x="478" y="232" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-18" target="H7ooW2e-7gJWST4jmUaG-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="383" y="450" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-11" target="H7ooW2e-7gJWST4jmUaG-13">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-11" value="初始化缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="328" y="530" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-13" target="H7ooW2e-7gJWST4jmUaG-15">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-13" value="读取消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="328" y="630" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="H7ooW2e-7gJWST4jmUaG-15" target="uAvVv-uClDMMrpR0Bvbr-4">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-15" value="从消息的指定字段获取缓存的Key" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="328" y="730" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-18" value="输入消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="343" y="390" width="80" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="H7ooW2e-7gJWST4jmUaG-19" value="缓存构建结束" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;fontColor=#808080;align=center;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="325.5" y="1059" width="115" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="uAvVv-uClDMMrpR0Bvbr-0" target="H7ooW2e-7gJWST4jmUaG-11">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-0" value="加载配置文件中的缓存失效时间和最大条数阈值参数，对缓存进行初始化。" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;fontColor=#808080;align=left;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="60" y="510" width="190" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-8" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="uAvVv-uClDMMrpR0Bvbr-4" target="uAvVv-uClDMMrpR0Bvbr-7">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-13" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="uAvVv-uClDMMrpR0Bvbr-4" target="uAvVv-uClDMMrpR0Bvbr-16">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="545" y="870"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-4" value="Key不为空" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="335.5" y="830" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="uAvVv-uClDMMrpR0Bvbr-7" target="H7ooW2e-7gJWST4jmUaG-19">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-7" value="添加消息至缓存中" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="328" y="950" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="H7ooW2e-7gJWST4jmUaG-1" source="uAvVv-uClDMMrpR0Bvbr-16" target="H7ooW2e-7gJWST4jmUaG-19">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="545" y="1090"/>
              <mxPoint x="465" y="1090"/>
              <mxPoint x="465" y="1089"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="uAvVv-uClDMMrpR0Bvbr-16" value="打印日志，提示Key为空导致无法加入缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="H7ooW2e-7gJWST4jmUaG-1">
          <mxGeometry x="490" y="950" width="110" height="60" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="CacheMatchAnalyser" id="qa-G6y6ZAmrwd6hHT9OX">
    <mxGraphModel dx="942" dy="573" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-0"/>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-1" parent="Jb1CrBv7T-m11i_zvxmi-0"/>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-2" value="缓存匹配解析器&lt;br&gt;（CacheMatchAnalyser）" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;labelBackgroundColor=#0066CC;gradientColor=none;fillColor=#0066CC;fontColor=#FFFFFF;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="50" y="20" width="760" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="Jb1CrBv7T-m11i_zvxmi-4" target="Jb1CrBv7T-m11i_zvxmi-6">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-4" value="缓存匹配开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="383" y="100" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-5" value="通过" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="Jb1CrBv7T-m11i_zvxmi-6" target="Jb1CrBv7T-m11i_zvxmi-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="433" y="350" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="433" y="300"/>
              <mxPoint x="433" y="300"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-6" value="配置检查" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="385.5" y="220" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-7" value="任意输入" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="578" y="160" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-8" value="" style="endArrow=none;dashed=1;html=1;fontSize=12;fontColor=#808080;entryX=-0.04;entryY=0.483;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" target="Jb1CrBv7T-m11i_zvxmi-7">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="438" y="189" as="sourcePoint"/>
            <mxPoint x="528" y="192" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontSize=12;fontColor=#808080;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="Jb1CrBv7T-m11i_zvxmi-16" target="Jb1CrBv7T-m11i_zvxmi-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="433" y="410" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="Jb1CrBv7T-m11i_zvxmi-11" target="7KcghR1Xc0FkXwtc_O-o-5">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-11" value="获取缓存A" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="283" y="490" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="Jb1CrBv7T-m11i_zvxmi-16" target="7KcghR1Xc0FkXwtc_O-o-0">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-16" value="缓存容器" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="393" y="350" width="80" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="Jb1CrBv7T-m11i_zvxmi-17" value="缓存匹配结束" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.terminator;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;fontColor=#808080;align=center;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="375.5" y="1060" width="115" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-0" target="7KcghR1Xc0FkXwtc_O-o-5">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-0" value="获取缓存B" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="473" y="490" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-11" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-5" target="7KcghR1Xc0FkXwtc_O-o-9">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="2ym1eLXdKIEQQgRAkk_8-4" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-5" target="Jb1CrBv7T-m11i_zvxmi-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="670"/>
              <mxPoint x="550" y="1090"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-5" value="到达匹配周期" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="385.5" y="630" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-21" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-9" target="7KcghR1Xc0FkXwtc_O-o-19">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-9" value="A、B缓存以Key进行关联匹配" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="378" y="750" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-17" target="7KcghR1Xc0FkXwtc_O-o-9">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-17" value="1.&amp;nbsp;找出在两个缓存中都存在的Key集合&lt;br&gt;2.&amp;nbsp;遍历Key集合，分别从缓存A、B中获取配置的字段&lt;br&gt;3.&amp;nbsp;将所有字段存入Map中，每个Key对应一个Map&lt;br&gt;4.&amp;nbsp;通过List存放所有的Map" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;align=left;horizontal=1;verticalAlign=top;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="90" y="715" width="240" height="130" as="geometry"/>
        </mxCell>
        <mxCell id="2ym1eLXdKIEQQgRAkk_8-1" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-19" target="7KcghR1Xc0FkXwtc_O-o-22">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="2ym1eLXdKIEQQgRAkk_8-3" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-19" target="Jb1CrBv7T-m11i_zvxmi-17">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="511" y="885"/>
              <mxPoint x="511" y="1090"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-19" value="匹配成功" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="385.5" y="845" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="2ym1eLXdKIEQQgRAkk_8-2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="7KcghR1Xc0FkXwtc_O-o-22" target="Jb1CrBv7T-m11i_zvxmi-17">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="7KcghR1Xc0FkXwtc_O-o-22" value="匹配结果输出" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="378" y="960" width="110" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="2ym1eLXdKIEQQgRAkk_8-0" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="Jb1CrBv7T-m11i_zvxmi-1" source="GL9iZjJbd6sv2eq8-wSj-0" target="7KcghR1Xc0FkXwtc_O-o-22">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="GL9iZjJbd6sv2eq8-wSj-0" value="1. _cache_match_flag：标识匹配成功&lt;br&gt;2. _cache_match_list :&amp;nbsp;匹配结果（List&amp;lt;Map&amp;lt;String,Object&amp;gt;）" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;align=left;horizontal=1;verticalAlign=top;" vertex="1" parent="Jb1CrBv7T-m11i_zvxmi-1">
          <mxGeometry x="10" y="955" width="340" height="70" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="AnalyserUpdate" id="9dPvblCEKyjluii297u3">
    <mxGraphModel dx="2401" dy="761" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="mKnWoQPsCUAQ5dKh5Se5-0"/>
        <mxCell id="mKnWoQPsCUAQ5dKh5Se5-1" parent="mKnWoQPsCUAQ5dKh5Se5-0"/>
        <mxCell id="mKnWoQPsCUAQ5dKh5Se5-2" value="解析器更新机制" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;labelBackgroundColor=#0066CC;gradientColor=none;fillColor=#0066CC;fontColor=#FFFFFF;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="-110" y="20" width="1740" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="mKnWoQPsCUAQ5dKh5Se5-4" target="Z82LEO1VR9zs6s_Aidtp-30">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="mKnWoQPsCUAQ5dKh5Se5-4" target="Z82LEO1VR9zs6s_Aidtp-34">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="850" y="130" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="mKnWoQPsCUAQ5dKh5Se5-4" value="ETL启动" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="710" y="110" width="100" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-5" value="被动更新" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="mKnWoQPsCUAQ5dKh5Se5-6" target="Z82LEO1VR9zs6s_Aidtp-2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-15" value="主动更新" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="mKnWoQPsCUAQ5dKh5Se5-6" target="Z82LEO1VR9zs6s_Aidtp-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="650" y="430" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="mKnWoQPsCUAQ5dKh5Se5-6" value="更新模式" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="385.5" y="390" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-2" target="Z82LEO1VR9zs6s_Aidtp-8">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-2" value="获取所有需要更新的解析器列表" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="227" y="550" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-8" target="Z82LEO1VR9zs6s_Aidtp-12">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-8" value="生成定时任务" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="227" y="690" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-6" target="Z82LEO1VR9zs6s_Aidtp-2">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-6" value="解析器主要信息：&lt;br&gt;1.&amp;nbsp;解析器名称&lt;br&gt;2.&amp;nbsp;解析器更新周期" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;align=left;horizontal=1;verticalAlign=top;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="20" y="541.25" width="140" height="77.5" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-10" target="Z82LEO1VR9zs6s_Aidtp-8">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-10" value="针对需要更新的解析器，逐个生成定时任务：&lt;br&gt;1.&amp;nbsp;添加解析器到待更新解析器列表&lt;br&gt;2.&amp;nbsp;修改更新标识为true，代表需要进行更新" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.document2;whiteSpace=wrap;size=0.25;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;align=left;horizontal=1;verticalAlign=top;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="-110" y="681.25" width="270" height="77.5" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-26" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-12" target="Z82LEO1VR9zs6s_Aidtp-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="293" y="920"/>
              <mxPoint x="417" y="920"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-12" value="到达更新周期" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="245.5" y="810" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-16" target="Z82LEO1VR9zs6s_Aidtp-17">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-16" value="监听zookeeper指定节点数据" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="500" y="550" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-24" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-17" target="Z82LEO1VR9zs6s_Aidtp-23">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-17" value="获取到更新指令" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="510.25" y="670" width="111.5" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-20" target="Z82LEO1VR9zs6s_Aidtp-21">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-20" target="_mRsteQTvb-0_897f8T5-16">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-20" value="添加解析器到待更新解析器集合" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="351" y="970" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-21" target="_mRsteQTvb-0_897f8T5-16">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-21" value="修改更新标识为true，标识需要更新" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="351" y="1080" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-23" target="Z82LEO1VR9zs6s_Aidtp-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="566" y="920"/>
              <mxPoint x="417" y="920"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-23" value="获取需要更新的解析器" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="500" y="800" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-30" target="mKnWoQPsCUAQ5dKh5Se5-6">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-30" value="初始化更新模块" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="367" y="260" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="Z82LEO1VR9zs6s_Aidtp-34" target="_mRsteQTvb-0_897f8T5-9">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="Z82LEO1VR9zs6s_Aidtp-34" value="读取源数据文件" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="260" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-35" value="获取消息" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-9" target="_mRsteQTvb-0_897f8T5-24">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-9" value="输入消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1126" y="410" width="80" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-16" value="1. 更新标识：&lt;br&gt;update: boolean&amp;nbsp;&lt;br&gt;2. 待更新解析器集合：&lt;br&gt;updateAnalysers: Set&amp;lt;String&amp;gt;&amp;nbsp;&lt;br&gt;&amp;nbsp;" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;align=left;strokeWidth=2;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="660" y="1030" width="210" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-23" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" target="_mRsteQTvb-0_897f8T5-22">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1165.571428571429" y="600" as="sourcePoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-28" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-22" target="_mRsteQTvb-0_897f8T5-27">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-22" value="更新解析器" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="770" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-31" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-27" target="_mRsteQTvb-0_897f8T5-30">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-27" target="_mRsteQTvb-0_897f8T5-16">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-27" value="从待更新解析器集合中移除已更新的解析器" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="930" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-30" target="01xaLmVm0eMpS-rf6KTj-4">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-30" target="_mRsteQTvb-0_897f8T5-16">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-30" value="修改更新标识为false" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="1100" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-6" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-24" target="01xaLmVm0eMpS-rf6KTj-4">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1321" y="610"/>
              <mxPoint x="1321" y="1300"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-24" value="需要更新" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.decision;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;labelBorderColor=none;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1118.5" y="570" width="95" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="_mRsteQTvb-0_897f8T5-25" target="_mRsteQTvb-0_897f8T5-24">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="_mRsteQTvb-0_897f8T5-25" value="检查更新标识，&lt;br&gt;true：需要更新，false：不需要更新" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;fontColor=#808080;align=left;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="900" y="570" width="120" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="01xaLmVm0eMpS-rf6KTj-4" target="01xaLmVm0eMpS-rf6KTj-11">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-4" value="解析器解析消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="1270" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#808080;" edge="1" parent="mKnWoQPsCUAQ5dKh5Se5-1" source="01xaLmVm0eMpS-rf6KTj-11" target="01xaLmVm0eMpS-rf6KTj-10">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-11" value="输出消息" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1100" y="1410" width="132" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="01xaLmVm0eMpS-rf6KTj-10" value="消息处理结束" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="mKnWoQPsCUAQ5dKh5Se5-1">
          <mxGeometry x="1116" y="1530" width="100" height="60" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Parquet动态输出插件" id="ynK3udeeatffPEY7nAbE">
    <mxGraphModel dx="1574" dy="761" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="ml6gNsncAip6iqgf1B51-0"/>
        <mxCell id="ml6gNsncAip6iqgf1B51-1" parent="ml6gNsncAip6iqgf1B51-0"/>
        <mxCell id="ml6gNsncAip6iqgf1B51-2" value="Parquet动态输出插件&lt;br&gt;（HdfsParquetDynamicOutputPlugin）" style="rounded=0;whiteSpace=wrap;html=1;fontSize=24;labelBackgroundColor=#0066CC;gradientColor=none;fillColor=#0066CC;fontColor=#FFFFFF;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="35" y="20" width="1035" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-32" value="1. 输出消息队列按行存储消息，数据结构为Map&amp;lt;String,Object&amp;gt;&lt;br&gt;&lt;br&gt;2.&amp;nbsp;每条消息内容包括：数据库名、数据表名、字段名、数据版本、字段值、分区字段值、自定义字段值" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;gradientColor=none;labelBorderColor=none;align=left;fontSize=12;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="35" y="190" width="270" height="140" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-34" target="ml6gNsncAip6iqgf1B51-32">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-85" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-34" target="ml6gNsncAip6iqgf1B51-37">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-34" value="输出消息队列" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.sequential_data;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="349.5" y="222.5" width="97" height="75" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-35" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-37" target="ml6gNsncAip6iqgf1B51-40">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-37" target="ml6gNsncAip6iqgf1B51-45">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-37" value="生成入库字段名和字段值" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="342.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-40" target="ml6gNsncAip6iqgf1B51-44">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-40" target="ml6gNsncAip6iqgf1B51-43">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-40" value="动态创建writer" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="482.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-43" target="ml6gNsncAip6iqgf1B51-58">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-43" target="ml6gNsncAip6iqgf1B51-48">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-43" value="写入数据" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="622.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-44" value="1.&amp;nbsp;由于不同的数据库、数据表、分区、版本，其所对应的数据写入HDFS的路径以及Schema信息都不一样，所以按照这些信息来创建writer，保证每个writer处理的是同一种类型的数据。&lt;br&gt;2.&amp;nbsp;writer设置有超时回收机制，如果某种类型的数据在指定时间内都没有写入，对应的writer就会自动回收。" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;gradientColor=none;labelBorderColor=none;align=left;fontSize=12;strokeWidth=2;verticalAlign=top;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="555" y="451.75" width="363.5" height="121.5" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-45" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;1. 拼接数据文件中的字段和自定义的字段，生成最终需要入库的字段名和字段值&lt;/span&gt;&lt;/div&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;gradientColor=none;labelBorderColor=none;align=left;fontSize=12;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="555" y="342.5" width="360" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-47" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-48" target="ml6gNsncAip6iqgf1B51-75">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-130" y="1975.3571428571427" as="targetPoint"/>
            <Array as="points">
              <mxPoint x="30" y="783"/>
              <mxPoint x="30" y="1963"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="RUmOeSz7Xi3eiO1gnY4p-5" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-48" target="RUmOeSz7Xi3eiO1gnY4p-3">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-48" value="是否动态更新数据表" style="rhombus;whiteSpace=wrap;html=1;fontColor=#808080;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;fontSize=12;labelBorderColor=none;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="322" y="742.5" width="152" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-49" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-51" target="ml6gNsncAip6iqgf1B51-57">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-50" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-51" target="ml6gNsncAip6iqgf1B51-54">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-51" value="缓存中是否存在表名" style="rhombus;whiteSpace=wrap;html=1;fontColor=#808080;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;labelBorderColor=none;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="334.5" y="992.5" width="127" height="100" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-52" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-54" target="ml6gNsncAip6iqgf1B51-70">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-53" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-54" target="ml6gNsncAip6iqgf1B51-72">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-54" value="数据库中是否存在表" style="rhombus;whiteSpace=wrap;html=1;fontColor=#808080;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;labelBorderColor=none;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="590" y="1015" width="165" height="55" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-55" value="否" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-57" target="ml6gNsncAip6iqgf1B51-62">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="401.5" y="1327.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-56" value="是" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-57" target="ml6gNsncAip6iqgf1B51-66">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540.5" y="1432.5" as="targetPoint"/>
          </mxGeometry>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-57" value="消息中所有字段是否在缓存中" style="rhombus;whiteSpace=wrap;html=1;fontColor=#808080;strokeColor=#808080;strokeWidth=2;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;labelBorderColor=none;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="307.5" y="1292.5" width="181" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-58" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;1.&amp;nbsp;调用writer.write()方法&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;text-align: center&quot;&gt;2. 通过消息中的信息，判断是否需要创建库表，是否需要更新字段以及创建schema&lt;/span&gt;&lt;/div&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;gradientColor=none;labelBorderColor=none;align=left;fontSize=12;verticalAlign=top;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="25" y="611.25" width="240" height="82.5" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-60" value="数据表缓存：&lt;br&gt;数据结构：Map&amp;lt;String,String[]&amp;gt;&lt;br&gt;Key：数据库名+表名拼接成的字符串&lt;br&gt;Value：表所对应的字段名数组" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;align=left;fontColor=#808080;strokeColor=#808080;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;labelBorderColor=none;fontSize=12;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="550" y="863.75" width="237" height="87.5" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-62" target="ml6gNsncAip6iqgf1B51-64">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-62" value="通过JDBC给数据表添加字段" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="638" y="1392.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-64" target="ml6gNsncAip6iqgf1B51-66">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-64" value="通过JDBC获取数据表Schema，更新到缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="638" y="1522.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-66" target="ml6gNsncAip6iqgf1B51-82">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-66" value="创建表字段和所在列对应关系缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="1652.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-68" target="ml6gNsncAip6iqgf1B51-66">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-68" value="表字段与列对应关系缓存结构：Map&amp;lt;Stinrg,Integer&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;Key：字段名&lt;br style=&quot;font-size: 12px;&quot;&gt;Value：字段对应列的序号" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;align=left;fontColor=#808080;strokeColor=#808080;fillColor=#FFFFFF;gradientColor=none;labelBackgroundColor=#FFFFFF;labelBorderColor=none;fontSize=12;verticalAlign=top;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="50" y="1637.5" width="190" height="90" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-70" target="ml6gNsncAip6iqgf1B51-57">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-70" value="通过JDBC获取数据表Schema，更新到缓存中" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="571.5" y="1150" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="RUmOeSz7Xi3eiO1gnY4p-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-72" target="ml6gNsncAip6iqgf1B51-66">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="951" y="1683"/>
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-72" value="创建数据表，并添加到缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="850" y="1140" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-75" target="ml6gNsncAip6iqgf1B51-80">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-74" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-75" target="ml6gNsncAip6iqgf1B51-77">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-75" value="创建ParquetWriter" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="1932.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-84" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-77" target="ml6gNsncAip6iqgf1B51-83">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-77" value="数据写入到Parquet文件中" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="2072.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-80" value="&lt;div&gt;1.&amp;nbsp;根据输出路径，字段名、字段类型等信息，生成ParquetWriter。&lt;/div&gt;&lt;span style=&quot;text-align: center&quot;&gt;用于写入数据到Parquet文件中&lt;/span&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;labelBackgroundColor=#FFFFFF;strokeColor=#808080;fillColor=#FFFFFF;fontColor=#808080;gradientColor=none;labelBorderColor=none;align=left;verticalAlign=top;strokeWidth=2;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="608.5" y="1926.25" width="310" height="72.5" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-81" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="ml6gNsncAip6iqgf1B51-82" target="ml6gNsncAip6iqgf1B51-75">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-82" value="按照表内字段顺序，重新对消息字段值进行排序" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="1797.5" width="202" height="60" as="geometry"/>
        </mxCell>
        <mxCell id="ml6gNsncAip6iqgf1B51-83" value="输出完成" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="321" y="2180" width="153" height="50" as="geometry"/>
        </mxCell>
        <mxCell id="6jLMpF0KSZK_RerfbFWe-1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="6jLMpF0KSZK_RerfbFWe-0" target="ml6gNsncAip6iqgf1B51-34">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="6jLMpF0KSZK_RerfbFWe-0" value="Parquet动态输出开始" style="strokeWidth=2;html=1;shape=mxgraph.flowchart.start_1;whiteSpace=wrap;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;labelBorderColor=none;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="332" y="90" width="132" height="70" as="geometry"/>
        </mxCell>
        <mxCell id="RUmOeSz7Xi3eiO1gnY4p-4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="RUmOeSz7Xi3eiO1gnY4p-3" target="ml6gNsncAip6iqgf1B51-60">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="RUmOeSz7Xi3eiO1gnY4p-6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#808080;" edge="1" parent="ml6gNsncAip6iqgf1B51-1" source="RUmOeSz7Xi3eiO1gnY4p-3" target="ml6gNsncAip6iqgf1B51-51">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        <mxCell id="RUmOeSz7Xi3eiO1gnY4p-3" value="获取数据表缓存" style="whiteSpace=wrap;html=1;absoluteArcSize=1;strokeWidth=2;labelBackgroundColor=#FFFFFF;fillColor=#FFFFFF;gradientColor=none;fontSize=12;fontColor=#808080;strokeColor=#808080;" vertex="1" parent="ml6gNsncAip6iqgf1B51-1">
          <mxGeometry x="297" y="877.5" width="202" height="60" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
